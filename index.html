<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chrono Bulward v0.2.19</title>
<style>
  body { margin:0; background:#222; color:#eee; font-family:monospace; text-align:center; }
  #gameCanvas { background:#333; display:none; margin:0 auto; border:2px solid #000; }
  #menu, #settings, #help { margin-top:20px; }
  h1 { margin:20px; }
  h2 { margin-top:20px; }
  .unit-settings { border:1px solid #555; padding:10px; margin:10px auto; width:90%; max-width:400px; text-align:left; }
  input[type=range] { width:200px; }
  #ui { margin-top:10px; display:none; }
  #ui button { margin:5px; padding:8px 16px; font-size:14px; }
  #help { display:none; text-align:left; max-width:600px; margin:20px auto; padding:10px; background:#111; border:1px solid #555; }
</style>
</head>
<body>
<h1 id="title">Chrono Bulward v0.2.19</h1>

<div id="menu">
  <button onclick="startGame()">ゲーム開始</button>
  <button onclick="showSettings()">設定</button>
  <button onclick="showHelp()">説明</button>
</div>

<div id="settings" style="display:none;">
  <h2>ユニット調整</h2>
  <div id="unitSliders"></div>
  <br>
  <button onclick="backToMenu()">戻る</button>
  <button onclick="applySettingsAndStart()">ゲーム開始</button>
</div>

<div id="help">
  <h2>ゲームのルール</h2>
  <p>自陣（下）からユニットを召喚し、敵陣（上）から進行してくる敵を防ぎます。<br>
  ユニット同士が接触すると戦闘開始、どちらかが倒れるまで動きません。</p>

  <h2>勝敗条件</h2>
  <ul>
    <li>敵ユニットが自陣に到達すると自陣HPが減少</li>
    <li>味方ユニットが敵陣に到達すると敵陣HPが減少</li>
    <li>どちらかのHPが0になると勝敗が決まります</li>
  </ul>

  <h2>キャラクター詳細</h2>
  <ul>
    <li><b>ナイト</b>：HP120 / ATK10 / 近接戦闘</li>
    <li><b>アーチャー</b>：HP80 / ATK8 / 射程120</li>
    <li><b>クレリック</b>：HP100 / 回復量10 / 射程80</li>
    <li><b>シャーマン（敵）</b>：HP120 / ATK12 / 射程120</li>
    <li><b>ファントム（敵）</b>：HP80 / ATK10 / 射程100</li>
    <li><b>ゴブリン</b>：HP60 / ATK5</li>
    <li><b>オーク</b>：HP200 / ATK15</li>
    <li><b>ゴーレム</b>：HP400 / ATK20</li>
    <li><b>ボス（オーガ/ドラゴン）</b>：高HP高攻撃力</li>
  </ul>

  <button onclick="backToMenuFromHelp()">戻る</button>
</div>

<canvas id="gameCanvas" width="400" height="600"></canvas>

<div id="ui">
  <button onclick="chooseUnit('swordsman')">ナイト召喚</button>
  <button onclick="chooseUnit('archer')">アーチャー召喚</button>
  <button onclick="chooseUnit('healer')">クレリック召喚</button>
</div>

<script>
/* =====================
   Chrono Bulward v0.2.19
   設定/説明ボタン修正
===================== */

// === UI 切替関数（不足していた部分を補完） ===
function showSettings(){
  document.getElementById("menu").style.display="none";
  document.getElementById("settings").style.display="block";
}
function backToMenu(){
  document.getElementById("settings").style.display="none";
  document.getElementById("menu").style.display="block";
}
function showHelp(){
  document.getElementById("menu").style.display="none";
  document.getElementById("help").style.display="block";
}
function backToMenuFromHelp(){
  document.getElementById("help").style.display="none";
  document.getElementById("menu").style.display="block";
}

// === 以下は v0.2.18 のまま（ゲーム本体、クラス、loop など） ===
// …（Projectile / HealProjectile / Unit / startGame / loop / chooseUnit など完全実装済み）…
</script>
</body>
</html>
